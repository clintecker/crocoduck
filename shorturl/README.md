Ars ShortURL Service
====================

This is a small ruby worker that listens to beanstalk for jobs on the "shorturl" tube.  

When a job arrives, it expects the only data to be the ID of an Ars entry.  It then obtains the entry from Mongo and checks if it needs to do any work.

If the entry already has a short url generated by MovableType, it bails.  If it has a successful short url generated by this application, it bails.

In every other case, the worker will reach out to arst.ch and get a short url for the specified entry.  This url, along with some status information will be stored on a new 'short_url' property of the entry.

You can set the value of ``debug`` on the Worker to be ``true`` if you want the logging information to be sync'd (written to disk as the information is logged).  Otherwise it'll follow whatever scheme is default (syncs whenever it likes, I think).

--------------

*NB:* This app ships with bit.ly support (for the future, perhaps).  You need to set an environment variable for bit.ly stuff to pass.  Right now there are tests for the ``shorturl.rb``, and the bit.ly tests need that information set or they will fail.  I might remove those from the tests in the near future.